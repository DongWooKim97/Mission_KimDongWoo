# 1Week_KimDongWoo.md

## Title: [NWeek] 김동우

### 미션 요구사항 분석 & 체크리스트

---

> - ‘어떻게 개발을 진행 할 것인지에 대한 방향성’을 확인하는 과정이기 때문에 최대한 깊이있게 분석 후 진행해주시기 바랍니다.

### N주차 미션 요약

- [x] 삭제버튼 클릭시, 해당 항목 삭제

    - [x] (테스트용) 버튼을 클릭시, 해당 호감대상의 정보를 불러오기
        - [x] 정보불러왔을 때 임시방편으로 root로 302
    - [x] 실제로 삭제하고 데이터베이스 변동사항 확인하기
    - [x] 삭제 진행에 있어 소유권 확인(로그인 유저)
    - [x] 삭제 완료시, 호감목록 페이지로 리턴
        - [x] rq.redirectWithMsg 함수 사용

---

**[접근 방법]**

> 체크리스트를 중심으로 각각의 기능을 구현하기 위해 어떤 생각을 했는지 정리합니다.

- 처음에 버튼을 눌렀을 때 로그인 정보(아이디와 인스트아이디)를 알아야 할 것 같았습니다.
    - 그래서 로그인했을 떄 누구였는지 확인하는 테스트 했습니다.
- 그 다음 데이터베이스와 정상적으로 동작하는지 확인했습니다.
    - service와 repository가 내가 준 파라미터에 맞게 작동하는지 확인.
- 그 다음은 내가 삭제하는 경우가 맞는지 확인.
- 마지막으로 삭제가 성공적으로 진행된 이후이는 리스트페이지로 리다이렉트(302)

**[특이사항]**

> 구현 과정에서 아쉬웠던 점 / 궁금했던 점을 정리합니다.<br>
>
> 추후 리팩토링 시, 어떤 부분을 추가적으로 진행하고 싶은지에 대해 구체적으로 작성해주시기 바랍니다.

- 사실 처음 문제를 받았을 땐 쉬울 것이라고 생각했다. 하지만 생각보다 고전했다. 복습을 하긴 했지만 집중해서 하지 못했다는 생각이 들고, 내가 이해했다고 생각했지만 얕은 이해를 했다고 생각이 든다.
- 또한 쉬운 길이 있을텐데 자꾸 단어 하나하나에 매몰되어 큰 산을 보지 못하는 것 같다. 불필요하거나 중요하지 않은 하나에 꽂혀 정작 중요한 것을 집중하지 못했다.
    - 다음번까지는 무조건 깊은 이해를 토대로 더 빠른 시간내에 술술 풀도록 해야겠다.

**참고: [Refactoring]**

> 1차 리팩토링을 진행하지 못해, 2차 리팩토링 기간에 병행하였습니다.

- [x] 엔티티 필드의 데이터 타입과 리포지토리의 파라미터 데이터타입 맞춤 필요
    - [x] LikeablePerson의 PK인 Id는 Long, 그러므로 레포지토리 파라미터 값을 Interger에서 Longd으로 변경

- [] 삭제권한을 확인하는 단계에서 리팩토링.
    - [x] 매핑된 url에 스프링 시큐리티를 활용한 초기에 blocking(PreAuthorize) 필요
    - [x] 변수끼리 묶거나 조금더 가독성이 좋게 작성 필요.
    - [] 컨트롤러 로직의 위치에 대해 고민 필요

